databaseChangeLog:
  - property:
      dbms: oracle
      name: varcharUnit
      value: CHAR
  - property:
      dbms: postgresql
      name: varcharUnit
      value: ''
  - changeSet:
      id: 1634114082437-1
      author: limit
      changes:
        - addColumn:
            tableName: not_pagador_cie
            columns:
              - column:
                  name: cie_extern
                  type: boolean
                  defaultValue: 1
                  constraints:
                    nullable: false
              - column:
                  name: api_key
                  type: varchar(128 ${varcharUnit})
              - column:
                  name: salt
                  type: varchar(88 ${varcharUnit})
              - column:
                  name: cie_cancelat
                  type: boolean
                  defaultValue: 1
                  constraints:
                    nullable: false
        - addColumn:
            tableName: not_entrega_postal
            columns:
              - column:
                  name: cie_id
                  type: varchar(100 ${varcharUnit})
        - sql: "UPDATE NOT_PAGADOR_CIE SET CIE_EXTERN = 0;
                INSERT INTO NOT_CONFIG (POSITION, KEY, VALUE, DESCRIPTION, TYPE_CODE, GROUP_CODE) VALUES (0, 'es.caib.notib.plugin.cie.class', 'es.caib.notib.plugin.cie.CieNexeaPluginImpl', 'Classe plugin CIE', 'CIE_CLASS', 'CIE' );
                INSERT INTO NOT_CONFIG_GROUP (POSITION, PARENT_CODE, CODE, DESCRIPTION) VALUES (11, 'PLUGINS', 'CIE', 'Plugin CIE' );
                INSERT INTO NOT_CONFIG_TYPE (CODE, VALUE) VALUES ('CIE_CLASS', 'es.caib.notib.plugin.cie.CieNexeaPluginImpl');
                INSERT INTO NOT_CONFIG (POSITION, KEY, JBOSS_PROPERTY, DESCRIPTION, GROUP_CODE) VALUES (1, 'es.caib.notib.plugin.cie.url', 0, 'Url del plugin CIE', 'CIE');
                INSERT INTO NOT_CONFIG (POSITION, KEY, VALUE, DESCRIPTION, TYPE_CODE, GROUP_CODE) VALUES (2, 'es.caib.notib.plugin.cie.max.reintents', '3', 'Número màxim de reintets dels enviaments CIE', 'CIE_CLASS', 'CIE' );"


