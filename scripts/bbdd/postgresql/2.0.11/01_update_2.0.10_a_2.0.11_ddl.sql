CREATE TABLE NOT_ACCIO_MASSIVA (ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, tipus VARCHAR(50), data_inici TIMESTAMP(6) WITHOUT TIME ZONE, data_fi TIMESTAMP(6) WITHOUT TIME ZONE, createdby_codi VARCHAR(64), LASTMODIFIEDBY_CODI VARCHAR(64), LASTMODIFIEDDATE TIMESTAMP(6) WITHOUT TIME ZONE, createddate TIMESTAMP(6) WITHOUT TIME ZONE, entitat_id BIGINT, error BOOLEAN, num_errors INTEGER, error_descripcio VARCHAR(1024), excepcio_stacktrace VARCHAR(2048), CONSTRAINT NOT_ACC_MASS_PK PRIMARY KEY (ID));

CREATE TABLE NOT_ACCIO_MASSIVA_ELEMENT (ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, ACCIO_MASSIVA_ID INTEGER GENERATED BY DEFAULT AS IDENTITY, seleccio_tipus VARCHAR(20), element_id numeric, data_execucio TIMESTAMP(6) WITHOUT TIME ZONE, error_descripcio VARCHAR(1024), excepcio_stacktrace VARCHAR(2048), CONSTRAINT NOT_ACC_MASS_ELEM_PK PRIMARY KEY (ID));

ALTER TABLE NOT_ACCIO_MASSIVA_ELEMENT ADD CONSTRAINT FK_ACCIOMASSIVA_ELEMENT FOREIGN KEY (ACCIO_MASSIVA_ID) REFERENCES NOT_ACCIO_MASSIVA (ID);

